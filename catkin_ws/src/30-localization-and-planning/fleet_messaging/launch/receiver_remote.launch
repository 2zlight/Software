<launch>
    <arg name="veh" />
    <arg name="local" default="false" />
    <arg name="config" default="$(find fleet_messaging)/config/config.yaml" />
    <arg name="iface" default="bat0" />
    <arg name="timeout" default="1" />
    <include file="$(find duckietown)/machines"/>
    <node ns="$(arg veh)" if="$(arg local)" name="receiver" pkg="fleet_messaging" type="receiver_node.py" output="screen">
        <param name="~config" value="$(arg config)" />
        <param name="~iface" value="$(arg iface)" />
        <param name="~timeout" value="$(arg timeout)" default="1" />
    </node>
    <node ns="$(arg veh)" unless="$(arg local)" machine="$(arg veh)" name="receiver" pkg="fleet_messaging" type="receiver_node.py" output="screen">
        <param name="~config" value="$(arg config)" />
        <param name="~iface" value="$(arg iface)" />
        <param name="~timeout" value="$(arg timeout)" />
    </node>
</launch>